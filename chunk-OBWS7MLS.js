import{$ as F,A as ne,B as C,C as b,D as l,E as c,F as g,G as k,H as _,I as U,J as E,L as M,O as T,P as $,R as oe,S as re,T as ae,a as P,b as Z,ba as le,c as q,ca as S,d as J,e as d,ea as G,f as Q,fa as D,g as B,i as p,j as u,k as R,l as A,m as X,n as ee,q as v,r as a,sa as x,t as f,u as s,v as te,va as I,w as o,wa as se,x as r,xa as pe,y as m,ya as me,z as ie}from"./chunk-Y2FF3C6H.js";var O=class n{http=p(ae);_snackBar=p(x);constructor(){}getFilmsCollection(t,e="1"){return this.http.get(D.api+"v2.2/films/collections",{params:{type:t,page:e}})}getFilm(t){return this.http.get(D.api+"v2.2/films/"+t)}getBoxOffice(t){return this.http.get(D.api+"v2.2/films/"+t+"/box_office")}getFacts(t){return this.http.get(D.api+"v2.2/films/"+t+" /facts")}getPremieres(t,e){return this.http.get(D.api+"v2.2/films/premieres",{params:{year:t,month:e}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};function ge(n,t){if(n&1&&(o(0,"div",4)(1,"div",5),m(2,"img",6),r(),o(3,"div",7),l(4),r()()),n&2){let e=C();a(4),c(e.film.ratingKinopoisk)}}var w=class n{film;showRating=!0;constructor(){this.film={kinopoiskId:0,imdbId:"",nameRu:"",nameEn:null,nameOriginal:"",countries:[{country:""}],genres:[{genre:""}],ratingKinopoisk:0,ratingImdb:0,year:0,type:"",posterUrl:"",posterUrlPreview:"",coverUrl:"",logoUrl:"",description:"",ratingAgeLimits:""}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-film-card"]],inputs:{film:"film",showRating:"showRating"},decls:4,vars:3,consts:[[1,"film-card",3,"routerLink"],[1,"film-card__image"],["alt","Film poster",3,"src"],["class","film-card__rating",4,"ngIf"],[1,"film-card__rating"],[1,"rating-star"],["src","assets/static/images/icon_star.svg","alt","Star"],[1,"rating-value"]],template:function(e,i){e&1&&(o(0,"a",0)(1,"div",1),m(2,"img",2),r(),f(3,ge,5,1,"div",3),r()),e&2&&(s("routerLink","/film/"+i.film.kinopoiskId),a(2),b("src",i.film.posterUrl,v),a(),s("ngIf",i.showRating))},dependencies:[$,S],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film-card[_ngcontent-%COMP%]{width:200px;height:315px;border-radius:20px;box-shadow:0 2px 4px #00000040;position:relative;overflow:hidden;isolation:isolate}.film-card__image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:20px;overflow:hidden;isolation:isolate}.film-card__rating[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-radius:0 20px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:#e8e8e826;width:68px;height:28px;display:flex;justify-content:center;align-items:center;gap:5px}@media (min-width: 1200px){.film-card__rating[_ngcontent-%COMP%]{width:85px;height:36px;gap:10px}}.film-card__rating[_ngcontent-%COMP%]   .rating-star[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function _e(n,t){if(n&1&&m(0,"app-film-card",10),n&2){let e=t.$implicit;s("film",e)}}var N=class n{filmService=p(O);totalPages=0;filmsTop250={title:"",items:[]};_snackBar=p(x);destroy$=new P;constructor(){}ngOnInit(){this.loadSlicedFilmCollection("TOP_250_MOVIES","\u0442\u043E\u043F 250 \u0444\u0438\u043B\u044C\u043C\u043E\u0432").pipe(d(this.destroy$)).subscribe(t=>{this.filmsTop250=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSlicedFilmCollection(t,e){return this.filmService.getFilmsCollection(t).pipe(d(this.destroy$),q(i=>{if(i.message)throw this._snackBar.open(i.message),new Error(i.message);return{title:e,items:i.items.slice(0,4)}}),J(i=>(i.error&&i.error.message?this._snackBar.open(i.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445"),Z(()=>new Error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")))))}trackById(t,e){return e.kinopoiskId}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-film-collections"]],decls:13,vars:3,consts:[[1,"main"],[1,"container"],[1,"main__inner"],[1,"film-collections"],[1,"film-collection"],[1,"top"],[1,"section-title"],["routerLink","TOP_250_MOVIES",1,"see-more"],[1,"film__items"],[3,"film",4,"ngFor","ngForOf","ngForTrackBy"],[3,"film"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"section",5)(6,"div",6)(7,"p"),l(8),r(),o(9,"a",7),l(10,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),r()(),o(11,"div",8),f(12,_e,1,1,"app-film-card",9),r()()()()()()()),e&2&&(a(8),c(i.filmsTop250.title),a(4),s("ngForOf",i.filmsTop250.items)("ngForTrackBy",i.trackById))},dependencies:[T,w,S],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.main[_ngcontent-%COMP%]{margin-top:40px}.main__inner[_ngcontent-%COMP%]{display:flex;gap:38px}.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-auto-rows:auto;grid-template-columns:repeat(2,1fr);gap:10px}@media (min-width: 744px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1200px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px}}"]})};var V=class n{transform(t){if(!t)return"";let e=t.replace(/<[^>]*>/g,"");return e=e.replace(/&[a-zA-Z0-9#]+;/g,""),e}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=A({name:"removeHtml",type:n,pure:!0})};function xe(n,t){if(n&1){let e=ie();o(0,"div",5),ne("click",function(){let h=X(e).$implicit,ue=C();return ee(ue.removeSpoilerWrapper(h))}),o(1,"p"),l(2),_(3,"removeHtml"),r(),o(4,"div",6)(5,"div",7)(6,"div",8),m(7,"i",9),r(),o(8,"div",10)(9,"p"),l(10,"\u0422\u0443\u0442 \u0435\u0441\u0442\u044C \u0441\u043F\u043E\u0439\u043B\u0435\u0440\u044B!"),r(),o(11,"p"),l(12,"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C"),r()()()()()}if(n&2){let e=t.$implicit;te("spoiler",e.spoiler),a(2),c(U(3,3,e.text))}}var z=class n{router=p(le);activatedRoute=p(F);fact={text:"",type:"",spoiler:!1};title="";facts={};typeOf="";filmId="";constructor(){}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.filmId=t.filmId})}removeSpoilerWrapper(t){t.spoiler&&(t.spoiler=!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-film-fact-and-blooper"]],inputs:{fact:"fact",title:"title",facts:"facts",typeOf:"typeOf"},decls:7,vars:6,consts:[["item",""],[1,"film__facts"],[1,"film__facts-title"],[1,"film__facts-items"],[3,"value","numScroll","numVisible","circular","showNavigators"],[1,"fact-item",3,"click"],[1,"fact-item__spoiler"],[1,"spoiler__content"],[1,"spoiler__icon"],[1,"pi","pi-eye-slash",2,"font-size","30px"],[1,"spoiler__text"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2),l(2),r(),o(3,"div",3)(4,"p-carousel",4),f(5,xe,13,5,"ng-template",null,0,M),r()()()),e&2&&(a(2),g(" ",i.title," "),a(2),s("value",i.facts[i.typeOf])("numScroll",1)("numVisible",1.2)("circular",!1)("showNavigators",!1))},dependencies:[I,V],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film__facts[_ngcontent-%COMP%]{display:grid;gap:10px;margin-bottom:20px}.film__facts-title[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center;justify-content:space-between}.film__facts-title[_ngcontent-%COMP%]   .carousel-arrows[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.film__facts-items[_ngcontent-%COMP%]{max-width:calc(100vw - var(--container) * 2)}@media (min-width: 1600px){.film__facts-items[_ngcontent-%COMP%]{max-width:1600px}}.film__facts[_ngcontent-%COMP%]   .fact-item[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-radius:5px;padding:10px;height:fit-content;position:relative;min-height:120px;max-height:120px;display:grid;gap:10px}.film__facts[_ngcontent-%COMP%]   .fact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto}.film__facts[_ngcontent-%COMP%]   .fact-item[_ngcontent-%COMP%]   a.show-more[_ngcontent-%COMP%]{font-size:16px;text-decoration:underline;cursor:pointer;align-self:flex-end}.film__facts[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]{display:none}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]{cursor:pointer;position:relative}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#121212}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]   .spoiler__content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]   .spoiler__content[_ngcontent-%COMP%]   .spoiler__text[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:14px;display:grid;gap:10px}"]})};var L=class n{transform(t){return t?`${Math.floor(t/60)} \u0447 ${t%60} \u043C\u0438\u043D`:""}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=A({name:"filmDuration",type:n,pure:!0})};function be(n,t){if(n&1&&(o(0,"div",29),l(1),r()),n&2){let e=t.$implicit;a(),c(e.genre)}}function he(n,t){if(n&1&&(o(0,"a",30)(1,"div",31),m(2,"img",32),r(),o(3,"div",33),l(4),r()()),n&2){let e=t.$implicit;s("routerLink","/staff/"+e.staffId),a(2),b("src",e.posterUrl,v),a(2),c(e.nameRu)}}function Pe(n,t){if(n&1&&(o(0,"a",30)(1,"div",31),m(2,"img",34),r(),o(3,"div",33),l(4),r()()),n&2){let e=t.$implicit;s("routerLink","/staff/"+e.staffId),a(2),b("src",e.posterUrl,v),a(2),c(e.nameRu)}}function Ee(n,t){if(n&1&&(o(0,"a",30)(1,"div",31),m(2,"img",35),r(),o(3,"div",33),l(4),r(),o(5,"span",36),l(6),r()()),n&2){let e=t.$implicit;s("routerLink","/staff/"+e.staffId),a(2),b("src",e.posterUrl,v),a(2),c(e.nameRu),a(2),c(e.description)}}function Me(n,t){if(n&1&&(o(0,"div",24)(1,"div",25),l(2,"\u0421\u0431\u043E\u0440\u044B \u0432 \u0420\u043E\u0441\u0441\u0438\u0438:"),r(),o(3,"div",26),l(4),_(5,"number"),r()()),n&2){let e=C();a(4),k("",e.boxOfficeDataRus.symbol,"",E(5,2,e.boxOfficeDataRus.amount,"1.0-0")," ")}}function Te(n,t){if(n&1&&m(0,"app-film-fact-and-blooper",37),n&2){let e=C();s("facts",e.groupedFactsAndBloopersData)("title",e.factTitle)("typeOf",e.factsType)}}function Fe(n,t){if(n&1&&m(0,"app-film-fact-and-blooper",37),n&2){let e=C();s("facts",e.groupedFactsAndBloopersData)("title",e.bloopersTitle)("typeOf",e.bloopersType)}}var H=class n{filmService=p(O);staffService=p(se);activatedRoute=p(F);_snackBar=p(x);filmData;staffData;groupedStaff={};boxOfficeData;boxOfficeDataBudget;boxOfficeDataRus;boxOfficeDataUSA;boxOfficeDataWorld;boxOfficeTotal=0;factsAndBloopersData={total:0,items:[]};groupedFactsAndBloopersData={};isSpoiler=!0;factTitle="\u0417\u043D\u0430\u0435\u0442\u0435 \u043B\u0438 \u0432\u044B \u0447\u0442\u043E...";bloopersTitle="\u041E\u0448\u0438\u0431\u043A\u0438 \u0432 \u0444\u0438\u043B\u044C\u043C\u0435";factsType="FACT";bloopersType="BLOOPER";destroy$=new P;staffCarouselOptions={mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,margin:20,responsive:{0:{items:2},500:{items:4},700:{items:5}}};constructor(){this.filmData={kinopoiskId:0,kinopoiskHDId:"",imdbId:"",nameRu:"",nameEn:"",nameOriginal:"",posterUrl:"",posterUrlPreview:"",coverUrl:"",logoUrl:"",reviewsCount:0,ratingGoodReview:0,ratingGoodReviewVoteCount:0,ratingKinopoisk:0,ratingKinopoiskVoteCount:0,ratingImdb:0,ratingImdbVoteCount:0,ratingFilmCritics:0,ratingFilmCriticsVoteCount:0,ratingAwait:0,ratingAwaitCount:0,ratingRfCritics:0,ratingRfCriticsVoteCount:0,webUrl:"",year:0,filmLength:0,slogan:"",description:"",shortDescription:"",editorAnnotation:"",isTicketsAvailable:!1,productionStatus:"",type:"",ratingMpaa:"",ratingAgeLimits:"",hasImax:!1,has3D:!1,lastSync:"",countries:[{country:""}],genres:[{genre:""}],startYear:0,endYear:0,serial:!1,shortFilm:!1,completed:!1},this.staffData=[{staffId:0,nameRu:"",nameEn:"",description:"",posterUrl:"",professionText:"",professionKey:""}],this.boxOfficeData={total:0,items:[{type:"",amount:0,currencyCode:"",name:"",symbol:""}]}}ngOnInit(){this.activatedRoute.params.pipe(d(this.destroy$)).subscribe(t=>{let e=t.filmId;this.getFilmData(e),this.getStaffData(e),this.getBoxOfficeData(e),this.getFactsAndBloopers(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}catchErrorInResponse(t){let e=null;if(t.message!==void 0&&(e=t.message),e)throw this._snackBar.open(e),new Error(e)}getFilmData(t){this.filmService.getFilm(t).pipe(d(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.filmData=e},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}groupByProfession(){this.groupedStaff&&(this.groupedStaff=this.staffData.reduce((t,e)=>(t[e.professionKey]||(t[e.professionKey]=[]),e.nameRu&&t[e.professionKey].push(e),t),{}))}getStaffData(t){this.staffService.getFilmStaff(t).pipe(d(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.staffData=e,this.groupByProfession()},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}getBoxOfficeData(t){this.filmService.getBoxOffice(t).pipe(d(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.boxOfficeData=e,this.boxOfficeData&&(this.boxOfficeDataBudget=this.boxOfficeData.items.find(i=>i.type==="BUDGET"),this.boxOfficeDataRus=this.boxOfficeData.items.find(i=>i.type==="RUS"),this.boxOfficeDataUSA=this.boxOfficeData.items.find(i=>i.type==="USA"),this.boxOfficeDataWorld=this.boxOfficeData.items.find(i=>i.type==="WORLD"),this.boxOfficeDataUSA?.amount&&this.boxOfficeDataWorld?.amount&&(this.boxOfficeTotal=(this.boxOfficeDataRus?.amount??0)+this.boxOfficeDataUSA.amount+this.boxOfficeDataWorld.amount))},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}getFactsAndBloopers(t){this.filmService.getFacts(t).pipe(d(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.factsAndBloopersData=e,this.groupByFactType()},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}groupByFactType(){this.factsAndBloopersData&&(this.groupedFactsAndBloopersData=this.factsAndBloopersData.items.reduce((t,e)=>(t[e.type]||(t[e.type]=[]),t[e.type].push(e),t),{}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-film-page"]],decls:81,vars:49,consts:[["item",""],[1,"film"],[1,"container"],[1,"film__inner"],[1,"film__image"],["alt","Film Cover",3,"src"],[1,"film__content"],[1,"film__content-main"],[1,"film__title"],[1,"film__name","info-block"],[1,"film__slogan","info-block"],[1,"film__duration","info-block"],[1,"film__year","info-block"],[1,"film__genres"],["class","genre",4,"ngFor","ngForOf"],[1,"film__ratings","info-block"],[1,"film__description","info-block"],[1,"film__directors","staff-block","info-block"],[1,"staff-block__title"],[3,"value","numVisible","numScroll","circular","showNavigators"],[1,"film__writers","staff-block","info-block"],[1,"film__actors","staff-block","info-block"],[1,"film--content__additional"],[1,"film-budget","info-block"],[1,"film-budget__container"],[1,"film-budget__title"],[1,"film-budget__details"],["class","film-budget__container",4,"ngIf"],[3,"facts","title","typeOf",4,"ngIf"],[1,"genre"],[1,"staff-item__container",3,"routerLink"],[1,"staff-item__image"],["alt","Director's photo",3,"src"],[1,"staff-item__name"],["alt","Writer's photo",3,"src"],["alt","Actor's photo",3,"src"],[1,"staff-item__role"],[3,"facts","title","typeOf"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),m(4,"img",5),r(),o(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"span"),l(10),r(),o(11,"span"),l(12),r()(),o(13,"div",10),l(14,"\u0421\u043B\u043E\u0433\u0430\u043D: "),o(15,"span"),l(16),r()(),o(17,"div",11),l(18),_(19,"filmDuration"),r(),o(20,"div",12),l(21),r(),o(22,"div",13),f(23,be,2,1,"div",14),r()(),o(24,"div",15)(25,"p"),l(26),r(),o(27,"p"),l(28),r()(),o(29,"div",16),l(30),r(),o(31,"div",17)(32,"div",18)(33,"span"),l(34,"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440\u044B:"),r()(),o(35,"p-carousel",19),f(36,he,5,3,"ng-template",null,0,M),r()(),o(38,"div",20)(39,"div",18)(40,"span"),l(41,"\u0421\u0446\u0435\u043D\u0430\u0440\u0438\u0441\u0442\u044B:"),r()(),o(42,"p-carousel",19),f(43,Pe,5,3,"ng-template",null,0,M),r()(),o(45,"div",21)(46,"div",18)(47,"span"),l(48,"\u0410\u043A\u0442\u0435\u0440\u044B:"),r()(),o(49,"p-carousel",19),f(50,Ee,7,4,"ng-template",null,0,M),r()()()()(),o(52,"div",22)(53,"div",23)(54,"div",24)(55,"div",25),l(56,"\u0411\u044E\u0434\u0436\u0435\u0442:"),r(),o(57,"div",26),l(58),_(59,"number"),r()(),f(60,Me,6,5,"div",27),o(61,"div",24)(62,"div",25),l(63,"\u0421\u0431\u043E\u0440\u044B \u0432 \u0421\u0428\u0410:"),r(),o(64,"div",26),l(65),_(66,"number"),r()(),o(67,"div",24)(68,"div",25),l(69,"\u0421\u0431\u043E\u0440\u044B \u0432 \u043C\u0438\u0440\u0435:"),r(),o(70,"div",26),l(71),_(72,"number"),r()(),o(73,"div",24)(74,"div",25),l(75,"\u041E\u0431\u0449\u0430\u044F \u0441\u0443\u043C\u043C\u0430 \u0441\u0431\u043E\u0440\u043E\u0432:"),r(),o(76,"div",26),l(77),_(78,"number"),r()()(),f(79,Te,1,3,"app-film-fact-and-blooper",28)(80,Fe,1,3,"app-film-fact-and-blooper",28),r()()()),e&2&&(a(4),b("src",i.filmData.posterUrlPreview,v),a(6),c(i.filmData.nameRu),a(2),c(i.filmData.nameOriginal),a(4),g('"',i.filmData.slogan,'"'),a(2),g("\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C: ",U(19,35,i.filmData.filmLength),""),a(3),g("\u0413\u043E\u0434: ",i.filmData.year,""),a(2),s("ngForOf",i.filmData.genres),a(3),g("\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u041A\u0438\u043D\u043E\u043F\u043E\u0438\u0441\u043A\u0430: ",i.filmData.ratingKinopoisk,""),a(2),g("\u0420\u0435\u0439\u0442\u0438\u043D\u0433 IMDB: ",i.filmData.ratingImdb,""),a(2),g(" ",i.filmData.description," "),a(5),s("value",i.groupedStaff.DIRECTOR)("numVisible",2.2)("numScroll",2)("circular",!1)("showNavigators",!1),a(7),s("value",i.groupedStaff.WRITER)("numVisible",2.2)("numScroll",2)("circular",!1)("showNavigators",!1),a(7),s("value",i.groupedStaff.ACTOR)("numVisible",2.2)("numScroll",2)("circular",!1)("showNavigators",!1),a(9),k("",i.boxOfficeDataBudget==null?null:i.boxOfficeDataBudget.symbol,"",E(59,37,i.boxOfficeDataBudget==null?null:i.boxOfficeDataBudget.amount,"1.0-0")," "),a(2),s("ngIf",i.boxOfficeDataRus),a(5),k("",i.boxOfficeDataUSA==null?null:i.boxOfficeDataUSA.symbol,"",E(66,40,i.boxOfficeDataUSA==null?null:i.boxOfficeDataUSA.amount,"1.0-0")," "),a(6),k("",i.boxOfficeDataWorld==null?null:i.boxOfficeDataWorld.symbol,"",E(72,43,i.boxOfficeDataWorld==null?null:i.boxOfficeDataWorld.amount,"1.0-0")," "),a(6),g("$",E(78,46,i.boxOfficeTotal,"1.0-0"),""),a(2),s("ngIf",i.groupedFactsAndBloopersData[i.factsType]),a(),s("ngIf",i.groupedFactsAndBloopersData[i.bloopersType]))},dependencies:[T,$,z,I,S,oe,L],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film[_ngcontent-%COMP%]{padding-top:var(--container)}@media (min-width: 1600px){.film[_ngcontent-%COMP%]{padding-top:20px}}.film__inner[_ngcontent-%COMP%]{display:grid;gap:30px}@media (min-width: 744px){.film__inner[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.film__image[_ngcontent-%COMP%]{width:100%;height:auto;flex-shrink:0;border-radius:10px;overflow:hidden;isolation:isolate;position:relative}@media (min-width: 744px){.film__image[_ngcontent-%COMP%]{height:min-content;border-radius:20px}}.film__content[_ngcontent-%COMP%]{display:grid;gap:26px}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]{font-size:18px;display:grid;gap:20px;align-items:center;max-width:100%;justify-items:center}@media (min-width: 744px){.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]{border-radius:10px}}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:wrap;text-align:center}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){position:relative}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__slogan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__year[_ngcontent-%COMP%]{font-size:18px;position:relative;margin-right:50px;width:fit-content}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__genres[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__genres[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{text-transform:capitalize;color:#e8e8e8cc;font-size:15px;font-weight:500;display:flex;text-align:center;justify-content:center;padding:4px 18px;border:1px solid rgba(232,232,232,.35);border-radius:15px;box-shadow:0 2px 4px #00000040}.film__content[_ngcontent-%COMP%]   .film__ratings[_ngcontent-%COMP%]{display:grid;gap:20px}.film__content[_ngcontent-%COMP%]   .film__description[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:30px;margin-bottom:16px}@media (min-width: 744px){.film__content[_ngcontent-%COMP%]   .film__description[_ngcontent-%COMP%]{border-radius:10px}}.staff-block[_ngcontent-%COMP%]{font-weight:400;max-width:calc(100vw - var(--container) * 2);overflow:hidden;gap:10px}@media (min-width: 744px){.staff-block[_ngcontent-%COMP%]{max-width:calc(50vw - var(--container) * 2)}}@media (min-width: 1200px){.staff-block[_ngcontent-%COMP%]{max-width:calc(50vw - var(--container) * 2 + 15px)}}@media (min-width: 1600px){.staff-block[_ngcontent-%COMP%]{max-width:800px}}.staff-block[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.staff-block__title[_ngcontent-%COMP%]{margin-bottom:10px}.staff-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]{width:120px;height:160px;border-radius:20px;overflow:hidden;isolation:isolate;margin-bottom:10px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__name[_ngcontent-%COMP%]{font-size:16px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__role[_ngcontent-%COMP%]{font-size:14px;font-weight:400;margin-top:10px}.film-budget[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.film-budget__container[_ngcontent-%COMP%]{display:flex;gap:5px}.film[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]{max-width:calc(100% - 40px)}"]})};function Se(n,t){if(n&1&&m(0,"app-film-card",7),n&2){let e=t.$implicit;s("film",e)}}var W=class n{filmService=p(O);activatedRoute=p(F);_snackBar=p(x);destroy$=new P;films=[];title="";constructor(){}ngOnInit(){this.activatedRoute.params.pipe(d(this.destroy$)).subscribe(t=>{let e=t.collection;switch(e){case"TOP_250_MOVIES":this.title="\u0442\u043E\u043F 250 \u0444\u0438\u043B\u044C\u043C\u043E\u0432";break}this.filmService.getFilmsCollection(e).subscribe({next:i=>{let h=null;if(i.message!==void 0&&(h=i.message),h)throw this._snackBar.open(h),new Error(h);this.films=i.items},error:i=>{i.error&&i.error.message?this._snackBar.open(i.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-film-collection"]],decls:9,vars:2,consts:[[1,"main"],[1,"container"],[1,"main__inner"],[1,"content"],[1,"section-title"],[1,"film__items"],[3,"film",4,"ngFor","ngForOf"],[3,"film"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),l(6),r()(),o(7,"div",5),f(8,Se,1,1,"app-film-card",6),r()()()()()),e&2&&(a(6),c(i.title),a(2),s("ngForOf",i.films))},dependencies:[T,w],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.main[_ngcontent-%COMP%]{margin-top:40px}.main__inner[_ngcontent-%COMP%]{display:flex;gap:38px}.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-auto-rows:auto;grid-template-columns:repeat(2,1fr);gap:10px}@media (min-width: 744px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1200px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px}}"]})};var De=[{path:"film/:filmId",component:H},{path:"film-collections",component:N},{path:"film-collections/:collection",component:W}],K=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=R({type:n});static \u0275inj=B({imports:[G.forChild(De),G]})};var de=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=R({type:n});static \u0275inj=B({imports:[re,me,pe,I,K]})};export{O as a,w as b,de as c};
