import{A as O,B as f,C as D,D as x,E as l,F as d,G as v,H as V,I as N,J as b,K as W,L as I,P as h,Q as se,S as pe,T as me,U as ce,a as k,aa as B,b as ne,c as oe,ca as fe,d as re,da as R,e as g,f as ae,fa as ee,g as $,ga as A,i as c,j as y,k as j,l as z,m as u,n as C,q as F,r as a,t as m,ta as M,u as s,v as le,va as L,w as r,wa as H,x as o,xa as _e,y as _,ya as de,z as S,za as ge}from"./chunk-3QW3CN2Z.js";var w=class n{http=c(ce);_snackBar=c(M);constructor(){}getFilmsCollection(t,e="1"){return this.http.get(A.api+"v2.2/films/collections",{params:{type:t,page:e}})}getFilm(t){return this.http.get(A.api+"v2.2/films/"+t)}getBoxOffice(t){return this.http.get(A.api+"v2.2/films/"+t+"/box_office")}getFacts(t){return this.http.get(A.api+"v2.2/films/"+t+" /facts")}getPremieres(t,e){return this.http.get(A.api+"v2.2/films/premieres",{params:{year:t,month:e}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var U=class n{film;constructor(){this.film={kinopoiskId:0,imdbId:"",nameRu:"",nameEn:null,nameOriginal:"",countries:[{country:""}],genres:[{genre:""}],ratingKinopoisk:0,ratingImdb:0,year:0,type:"",posterUrl:"",posterUrlPreview:"",coverUrl:"",logoUrl:"",description:"",ratingAgeLimits:""}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-film-card"]],inputs:{film:"film"},decls:8,vars:3,consts:[[1,"film-card",3,"routerLink"],[1,"film-card__image"],["alt","Film poster",3,"src"],[1,"film-card__rating"],[1,"rating-star"],["src","assets/static/images/icon_star.svg","alt","Star"],[1,"rating-value"]],template:function(e,i){e&1&&(r(0,"a",0)(1,"div",1),_(2,"img",2),o(),r(3,"div",3)(4,"div",4),_(5,"img",5),o(),r(6,"div",6),l(7),o()()()),e&2&&(s("routerLink","/film/"+i.film.kinopoiskId),a(2),D("src",i.film.posterUrl,F),a(5),d(i.film.ratingKinopoisk))},dependencies:[R],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film-card[_ngcontent-%COMP%]{width:200px;height:315px;border-radius:20px;box-shadow:0 2px 4px #00000040;position:relative;overflow:hidden;isolation:isolate}.film-card__image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:20px;overflow:hidden;isolation:isolate}.film-card__rating[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-radius:0 20px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:#e8e8e826;width:68px;height:28px;display:flex;justify-content:center;align-items:center;gap:5px}@media (min-width: 1200px){.film-card__rating[_ngcontent-%COMP%]{width:85px;height:36px;gap:10px}}.film-card__rating[_ngcontent-%COMP%]   .rating-star[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function ye(n,t){if(n&1&&_(0,"app-film-card",10),n&2){let e=t.$implicit;s("film",e)}}var G=class n{filmService=c(w);totalPages=0;filmsTop250={title:"",items:[]};_snackBar=c(M);destroy$=new k;constructor(){}ngOnInit(){this.loadSlicedFilmCollection("TOP_250_MOVIES","\u0442\u043E\u043F 250 \u0444\u0438\u043B\u044C\u043C\u043E\u0432").pipe(g(this.destroy$)).subscribe(t=>{this.filmsTop250=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSlicedFilmCollection(t,e){return this.filmService.getFilmsCollection(t).pipe(g(this.destroy$),oe(i=>{if(i.message)throw this._snackBar.open(i.message),new Error(i.message);return{title:e,items:i.items.slice(0,4)}}),re(i=>(i.error&&i.error.message?this._snackBar.open(i.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445"),ne(()=>new Error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")))))}trackById(t,e){return e.kinopoiskId}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-film-collections"]],decls:13,vars:3,consts:[[1,"main"],[1,"container"],[1,"main__inner"],[1,"film-collections"],[1,"film-collection"],[1,"top"],[1,"section-title"],["routerLink","TOP_250_MOVIES",1,"see-more"],[1,"film__items"],[3,"film",4,"ngFor","ngForOf","ngForTrackBy"],[3,"film"]],template:function(e,i){e&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"section",5)(6,"div",6)(7,"p"),l(8),o(),r(9,"a",7),l(10,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),o()(),r(11,"div",8),m(12,ye,1,1,"app-film-card",9),o()()()()()()()),e&2&&(a(8),d(i.filmsTop250.title),a(4),s("ngForOf",i.filmsTop250.items)("ngForTrackBy",i.trackById))},dependencies:[h,R,U],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.main[_ngcontent-%COMP%]{margin-top:40px}.main__inner[_ngcontent-%COMP%]{display:flex;gap:38px}.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-auto-rows:auto;grid-template-columns:repeat(2,1fr);gap:10px}@media (min-width: 744px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1200px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px}}"]})};var Y=class n{transform(t){if(!t)return"";let e=t.replace(/<[^>]*>/g,"");return e=e.replace(/&[a-zA-Z0-9#]+;/g,""),e}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=z({name:"removeHtml",type:n,pure:!0})};function be(n,t){if(n&1){let e=S();r(0,"div",10),O("click",function(){u(e);let p=f().$implicit,E=f();return C(E.removeSpoilerWrapper(p))}),r(1,"p"),l(2),b(3,"removeHtml"),o(),r(4,"div",11)(5,"div",12)(6,"div",13),_(7,"i",14),o(),r(8,"div",15)(9,"p"),l(10,"\u0422\u0443\u0442 \u0435\u0441\u0442\u044C \u0441\u043F\u043E\u0439\u043B\u0435\u0440\u044B!"),o(),r(11,"p"),l(12,"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C"),o()()()()()}if(n&2){let e=f().$implicit;le("spoiler",e.spoiler),a(2),d(W(3,3,e.text))}}function Pe(n,t){n&1&&m(0,be,13,5,"ng-template",9)}var Z=class n{router=c(fe);activatedRoute=c(B);fact={text:"",type:"",spoiler:!1};title="";facts={};typeOf="";factCarouselOptions={mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,margin:20,responsive:{0:{items:1},500:{items:2},1160:{items:3},1560:{items:4}}};filmId="";constructor(){}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.filmId=t.filmId})}removeSpoilerWrapper(t){t.spoiler&&(t.spoiler=!1)}getParams(t){return{[this.typeOf==="FACT"?"fact":"blooper"]:t}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-film-fact-and-blooper"]],inputs:{fact:"fact",title:"title",facts:"facts",typeOf:"typeOf"},decls:10,vars:3,consts:[["OwlCar",""],[1,"film__facts"],[1,"film__facts-title"],[1,"carousel-arrows"],[1,"pi","pi-arrow-left",2,"font-size","18px",3,"click"],[1,"pi","pi-arrow-right",2,"font-size","18px",3,"click"],[1,"film__facts-items"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[1,"fact-item",3,"click"],[1,"fact-item__spoiler"],[1,"spoiler__content"],[1,"spoiler__icon"],[1,"pi","pi-eye-slash",2,"font-size","30px"],[1,"spoiler__text"]],template:function(e,i){if(e&1){let p=S();r(0,"div",1)(1,"div",2),l(2),r(3,"div",3)(4,"i",4),O("click",function(){u(p);let T=x(8);return C(T.prev())}),o(),r(5,"i",5),O("click",function(){u(p);let T=x(8);return C(T.next())}),o()()(),r(6,"div",6)(7,"owl-carousel-o",7,0),m(9,Pe,1,0,null,8),o()()()}e&2&&(a(2),v(" ",i.title," "),a(5),s("options",i.factCarouselOptions),a(2),s("ngForOf",i.facts[i.typeOf]))},dependencies:[h,H,L,Y],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film__facts[_ngcontent-%COMP%]{display:grid;gap:10px;margin-bottom:20px}.film__facts-title[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center;justify-content:space-between}.film__facts-title[_ngcontent-%COMP%]   .carousel-arrows[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.film__facts-items[_ngcontent-%COMP%]{max-width:calc(100vw - var(--container) * 2)}@media (min-width: 1600px){.film__facts-items[_ngcontent-%COMP%]{max-width:1600px}}.film__facts[_ngcontent-%COMP%]   .fact-item[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-radius:5px;padding:10px;height:fit-content;position:relative;overflow-y:auto;min-height:120px;max-height:120px;display:grid;gap:10px}.film__facts[_ngcontent-%COMP%]   .fact-item[_ngcontent-%COMP%]   a.show-more[_ngcontent-%COMP%]{font-size:16px;text-decoration:underline;cursor:pointer;align-self:flex-end}.film__facts[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]{display:none}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]{cursor:pointer;position:relative}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#121212}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]   .spoiler__content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px}.film__facts[_ngcontent-%COMP%]   .fact-item.spoiler[_ngcontent-%COMP%]   .fact-item__spoiler[_ngcontent-%COMP%]   .spoiler__content[_ngcontent-%COMP%]   .spoiler__text[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:14px;display:grid;gap:10px}"]})};var q=class n{transform(t){return t?`${Math.floor(t/60)} \u0447 ${t%60} \u043C\u0438\u043D`:""}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=z({name:"filmDuration",type:n,pure:!0})};var ie=()=>[];function we(n,t){if(n&1&&(r(0,"div",33),l(1),o()),n&2){let e=t.$implicit;a(),d(e.genre)}}function Ee(n,t){if(n&1){let e=S();r(0,"div",34)(1,"i",35),O("click",function(){u(e),f();let p=x(37);return C(p.prev())}),o(),r(2,"i",36),O("click",function(){u(e),f();let p=x(37);return C(p.next())}),o()()}}function Te(n,t){if(n&1&&(r(0,"a",38)(1,"div",39),_(2,"img",40),o(),r(3,"div",41),l(4),o()()),n&2){let e=f().$implicit;s("routerLink","/staff/"+e.staffId),a(2),D("src",e.posterUrl,F),a(2),d(e.nameRu)}}function Fe(n,t){n&1&&m(0,Te,5,3,"ng-template",37)}function Se(n,t){if(n&1){let e=S();r(0,"div",34)(1,"i",35),O("click",function(){u(e),f();let p=x(45);return C(p.prev())}),o(),r(2,"i",36),O("click",function(){u(e),f();let p=x(45);return C(p.next())}),o()()}}function De(n,t){if(n&1&&(r(0,"a",38)(1,"div",39),_(2,"img",42),o(),r(3,"div",41),l(4),o()()),n&2){let e=f().$implicit;s("routerLink","/staff/"+e.staffId),a(2),D("src",e.posterUrl,F),a(2),d(e.nameRu)}}function ke(n,t){n&1&&m(0,De,5,3,"ng-template",37)}function Ie(n,t){if(n&1){let e=S();r(0,"div",34)(1,"i",35),O("click",function(){u(e),f();let p=x(53);return C(p.prev())}),o(),r(2,"i",36),O("click",function(){u(e),f();let p=x(53);return C(p.next())}),o()()}}function Be(n,t){if(n&1&&(r(0,"a",38)(1,"div",39),_(2,"img",43),o(),r(3,"div",41),l(4),o(),r(5,"span",44),l(6),o()()),n&2){let e=f().$implicit;s("routerLink","/staff/"+e.staffId),a(2),D("src",e.posterUrl,F),a(2),d(e.nameRu),a(2),d(e.description)}}function Re(n,t){n&1&&m(0,Be,7,4,"ng-template",37)}function Ae(n,t){if(n&1&&(r(0,"div",28)(1,"div",29),l(2,"\u0421\u0431\u043E\u0440\u044B \u0432 \u0420\u043E\u0441\u0441\u0438\u0438:"),o(),r(3,"div",30),l(4),b(5,"number"),o()()),n&2){let e=f();a(4),V("",e.boxOfficeDataRus.symbol,"",I(5,2,e.boxOfficeDataRus.amount,"1.0-0")," ")}}function Ue(n,t){if(n&1&&_(0,"app-film-fact-and-blooper",45),n&2){let e=f();s("facts",e.groupedFactsAndBloopersData)("title",e.factTitle)("typeOf",e.factsType)}}function Ve(n,t){if(n&1&&_(0,"app-film-fact-and-blooper",45),n&2){let e=f();s("facts",e.groupedFactsAndBloopersData)("title",e.bloopersTitle)("typeOf",e.bloopersType)}}var J=class n{filmService=c(w);staffService=c(de);activatedRoute=c(B);_snackBar=c(M);filmData;staffData;groupedStaff={};boxOfficeData;boxOfficeDataBudget;boxOfficeDataRus;boxOfficeDataUSA;boxOfficeDataWorld;boxOfficeTotal=0;factsAndBloopersData={total:0,items:[]};groupedFactsAndBloopersData={};isSpoiler=!0;factTitle="\u0417\u043D\u0430\u0435\u0442\u0435 \u043B\u0438 \u0432\u044B \u0447\u0442\u043E...";bloopersTitle="\u041E\u0448\u0438\u0431\u043A\u0438 \u0432 \u0444\u0438\u043B\u044C\u043C\u0435";factsType="FACT";bloopersType="BLOOPER";destroy$=new k;staffCarouselOptions={mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,margin:20,responsive:{0:{items:2},500:{items:4},700:{items:5}}};constructor(){this.filmData={kinopoiskId:0,kinopoiskHDId:"",imdbId:"",nameRu:"",nameEn:"",nameOriginal:"",posterUrl:"",posterUrlPreview:"",coverUrl:"",logoUrl:"",reviewsCount:0,ratingGoodReview:0,ratingGoodReviewVoteCount:0,ratingKinopoisk:0,ratingKinopoiskVoteCount:0,ratingImdb:0,ratingImdbVoteCount:0,ratingFilmCritics:0,ratingFilmCriticsVoteCount:0,ratingAwait:0,ratingAwaitCount:0,ratingRfCritics:0,ratingRfCriticsVoteCount:0,webUrl:"",year:0,filmLength:0,slogan:"",description:"",shortDescription:"",editorAnnotation:"",isTicketsAvailable:!1,productionStatus:"",type:"",ratingMpaa:"",ratingAgeLimits:"",hasImax:!1,has3D:!1,lastSync:"",countries:[{country:""}],genres:[{genre:""}],startYear:0,endYear:0,serial:!1,shortFilm:!1,completed:!1},this.staffData=[{staffId:0,nameRu:"",nameEn:"",description:"",posterUrl:"",professionText:"",professionKey:""}],this.boxOfficeData={total:0,items:[{type:"",amount:0,currencyCode:"",name:"",symbol:""}]}}ngOnInit(){this.activatedRoute.params.pipe(g(this.destroy$)).subscribe(t=>{let e=t.filmId;this.getFilmData(e),this.getStaffData(e),this.getBoxOfficeData(e),this.getFactsAndBloopers(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}catchErrorInResponse(t){let e=null;if(t.message!==void 0&&(e=t.message),e)throw this._snackBar.open(e),new Error(e)}getFilmData(t){this.filmService.getFilm(t).pipe(g(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.filmData=e},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}groupByProfession(){this.groupedStaff&&(this.groupedStaff=this.staffData.reduce((t,e)=>(t[e.professionKey]||(t[e.professionKey]=[]),e.nameRu&&t[e.professionKey].push(e),t),{}))}getStaffData(t){this.staffService.getFilmStaff(t).pipe(g(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.staffData=e,this.groupByProfession()},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}getBoxOfficeData(t){this.filmService.getBoxOffice(t).pipe(g(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.boxOfficeData=e,this.boxOfficeData&&(this.boxOfficeDataBudget=this.boxOfficeData.items.find(i=>i.type==="BUDGET"),this.boxOfficeDataRus=this.boxOfficeData.items.find(i=>i.type==="RUS"),this.boxOfficeDataUSA=this.boxOfficeData.items.find(i=>i.type==="USA"),this.boxOfficeDataWorld=this.boxOfficeData.items.find(i=>i.type==="WORLD"),this.boxOfficeDataUSA?.amount&&this.boxOfficeDataWorld?.amount&&(this.boxOfficeTotal=(this.boxOfficeDataRus?.amount??0)+this.boxOfficeDataUSA.amount+this.boxOfficeDataWorld.amount))},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}getFactsAndBloopers(t){this.filmService.getFacts(t).pipe(g(this.destroy$)).subscribe({next:e=>{this.catchErrorInResponse(e),this.factsAndBloopersData=e,this.groupByFactType()},error:e=>{e.error&&e.error.message?this._snackBar.open(e.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})}groupByFactType(){this.factsAndBloopersData&&(this.groupedFactsAndBloopersData=this.factsAndBloopersData.items.reduce((t,e)=>(t[e.type]||(t[e.type]=[]),t[e.type].push(e),t),{}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-film-page"]],decls:84,vars:46,consts:[["OwlCarDirectors",""],["OwlCarWriters",""],["OwlCarActors",""],[1,"film"],[1,"container"],[1,"film__inner"],[1,"film__image"],["alt","Film Cover",3,"src"],[1,"film__content"],[1,"film__content-main"],[1,"film__title"],[1,"film__name","info-block"],[1,"film__slogan","info-block"],[1,"film__duration","info-block"],[1,"film__year","info-block"],[1,"film__genres"],["class","genre",4,"ngFor","ngForOf"],[1,"film__ratings","info-block"],[1,"film__description","info-block"],[1,"film__directors","staff-block","info-block"],[1,"staff-block__title"],["class","carousel-arrows",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf"],[1,"film__writers","staff-block","info-block"],[1,"film__actors","staff-block","info-block"],[1,"film--content__additional"],[1,"film-budget","info-block"],[1,"film-budget__container"],[1,"film-budget__title"],[1,"film-budget__details"],["class","film-budget__container",4,"ngIf"],[3,"facts","title","typeOf",4,"ngIf"],[1,"genre"],[1,"carousel-arrows"],[1,"pi","pi-arrow-left",2,"font-size","18px",3,"click"],[1,"pi","pi-arrow-right",2,"font-size","18px",3,"click"],["carouselSlide",""],[1,"staff-item__container",3,"routerLink"],[1,"staff-item__image"],["alt","Director's photo",3,"src"],[1,"staff-item__name"],["alt","Writer's photo",3,"src"],["alt","Actor's photo",3,"src"],[1,"staff-item__role"],[3,"facts","title","typeOf"]],template:function(e,i){if(e&1&&(r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),_(4,"img",7),o(),r(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"span"),l(10),o(),r(11,"span"),l(12),o()(),r(13,"div",12),l(14,"\u0421\u043B\u043E\u0433\u0430\u043D: "),r(15,"span"),l(16),o()(),r(17,"div",13),l(18),b(19,"filmDuration"),o(),r(20,"div",14),l(21),o(),r(22,"div",15),m(23,we,2,1,"div",16),o()(),r(24,"div",17)(25,"p"),l(26),o(),r(27,"p"),l(28),o()(),r(29,"div",18),l(30),o(),r(31,"div",19)(32,"div",20)(33,"span"),l(34,"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440\u044B:"),o(),m(35,Ee,3,0,"div",21),o(),r(36,"owl-carousel-o",22,0),m(38,Fe,1,0,null,23),o()(),r(39,"div",24)(40,"div",20)(41,"span"),l(42,"\u0421\u0446\u0435\u043D\u0430\u0440\u0438\u0441\u0442\u044B:"),o(),m(43,Se,3,0,"div",21),o(),r(44,"owl-carousel-o",22,1),m(46,ke,1,0,null,23),o()(),r(47,"div",25)(48,"div",20)(49,"span"),l(50,"\u0410\u043A\u0442\u0435\u0440\u044B:"),o(),m(51,Ie,3,0,"div",21),o(),r(52,"owl-carousel-o",22,2),m(54,Re,1,0,null,23),o()()()()(),r(55,"div",26)(56,"div",27)(57,"div",28)(58,"div",29),l(59,"\u0411\u044E\u0434\u0436\u0435\u0442:"),o(),r(60,"div",30),l(61),b(62,"number"),o()(),m(63,Ae,6,5,"div",31),r(64,"div",28)(65,"div",29),l(66,"\u0421\u0431\u043E\u0440\u044B \u0432 \u0421\u0428\u0410:"),o(),r(67,"div",30),l(68),b(69,"number"),o()(),r(70,"div",28)(71,"div",29),l(72,"\u0421\u0431\u043E\u0440\u044B \u0432 \u043C\u0438\u0440\u0435:"),o(),r(73,"div",30),l(74),b(75,"number"),o()(),r(76,"div",28)(77,"div",29),l(78,"\u041E\u0431\u0449\u0430\u044F \u0441\u0443\u043C\u043C\u0430 \u0441\u0431\u043E\u0440\u043E\u0432:"),o(),r(79,"div",30),l(80),b(81,"number"),o()()(),m(82,Ue,1,3,"app-film-fact-and-blooper",32)(83,Ve,1,3,"app-film-fact-and-blooper",32),o()()()),e&2){let p,E,T;a(4),D("src",i.filmData.posterUrlPreview,F),a(6),d(i.filmData.nameRu),a(2),d(i.filmData.nameOriginal),a(4),v('"',i.filmData.slogan,'"'),a(2),v("\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C: ",W(19,29,i.filmData.filmLength),""),a(3),v("\u0413\u043E\u0434: ",i.filmData.year,""),a(2),s("ngForOf",i.filmData.genres),a(3),v("\u0420\u0435\u0439\u0442\u0438\u043D\u0433 \u041A\u0438\u043D\u043E\u043F\u043E\u0438\u0441\u043A\u0430: ",i.filmData.ratingKinopoisk,""),a(2),v("\u0420\u0435\u0439\u0442\u0438\u043D\u0433 IMDB: ",i.filmData.ratingImdb,""),a(2),v(" ",i.filmData.description," "),a(5),s("ngIf",((p=i.groupedStaff.DIRECTOR)!==null&&p!==void 0?p:N(43,ie)).length>2),a(),s("options",i.staffCarouselOptions),a(2),s("ngForOf",i.groupedStaff.DIRECTOR),a(5),s("ngIf",((E=i.groupedStaff.WRITER)!==null&&E!==void 0?E:N(44,ie)).length>2),a(),s("options",i.staffCarouselOptions),a(2),s("ngForOf",i.groupedStaff.WRITER),a(5),s("ngIf",((T=i.groupedStaff.ACTOR)!==null&&T!==void 0?T:N(45,ie)).length>2),a(),s("options",i.staffCarouselOptions),a(2),s("ngForOf",i.groupedStaff.ACTOR),a(7),V("",i.boxOfficeDataBudget==null?null:i.boxOfficeDataBudget.symbol,"",I(62,31,i.boxOfficeDataBudget==null?null:i.boxOfficeDataBudget.amount,"1.0-0")," "),a(2),s("ngIf",i.boxOfficeDataRus),a(5),V("",i.boxOfficeDataUSA==null?null:i.boxOfficeDataUSA.symbol,"",I(69,34,i.boxOfficeDataUSA==null?null:i.boxOfficeDataUSA.amount,"1.0-0")," "),a(6),V("",i.boxOfficeDataWorld==null?null:i.boxOfficeDataWorld.symbol,"",I(75,37,i.boxOfficeDataWorld==null?null:i.boxOfficeDataWorld.amount,"1.0-0")," "),a(6),v("$",I(81,40,i.boxOfficeTotal,"1.0-0"),""),a(2),s("ngIf",i.groupedFactsAndBloopersData[i.factsType]),a(),s("ngIf",i.groupedFactsAndBloopersData[i.bloopersType])}},dependencies:[h,se,R,Z,H,L,pe,q],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.film[_ngcontent-%COMP%]{padding-top:var(--container)}@media (min-width: 1600px){.film[_ngcontent-%COMP%]{padding-top:20px}}.film__inner[_ngcontent-%COMP%]{display:grid;gap:30px}@media (min-width: 744px){.film__inner[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.film__image[_ngcontent-%COMP%]{width:100%;height:auto;flex-shrink:0;border-radius:10px;overflow:hidden;isolation:isolate;position:relative}@media (min-width: 744px){.film__image[_ngcontent-%COMP%]{height:min-content;border-radius:20px}}.film__content[_ngcontent-%COMP%]{display:grid;gap:26px}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]{font-size:18px;display:grid;gap:20px;align-items:center;max-width:100%;justify-items:center}@media (min-width: 744px){.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]{border-radius:10px}}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:wrap;text-align:center}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){position:relative}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__slogan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__year[_ngcontent-%COMP%]{font-size:18px;position:relative;margin-right:50px;width:fit-content}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__genres[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.film__content[_ngcontent-%COMP%]   .film__title[_ngcontent-%COMP%]   .film__genres[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{text-transform:capitalize;color:#e8e8e8cc;font-size:15px;font-weight:500;display:flex;text-align:center;justify-content:center;padding:4px 18px;border:1px solid rgba(232,232,232,.35);border-radius:15px;box-shadow:0 2px 4px #00000040}.film__content[_ngcontent-%COMP%]   .film__ratings[_ngcontent-%COMP%]{display:grid;gap:20px}.film__content[_ngcontent-%COMP%]   .film__description[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:30px;margin-bottom:16px}@media (min-width: 744px){.film__content[_ngcontent-%COMP%]   .film__description[_ngcontent-%COMP%]{border-radius:10px}}.staff-block[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]{font-weight:400;max-width:calc(100vw - var(--container) * 2);overflow:hidden;display:grid;grid-template-rows:minmax(0,1fr);gap:10px}@media (min-width: 744px){.staff-block[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]{max-width:calc(50vw - var(--container) * 2)}}@media (min-width: 1200px){.staff-block[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]{max-width:calc(50vw - var(--container) * 2 + 15px)}}@media (min-width: 1600px){.staff-block[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]{max-width:800px}}.staff-block[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.staff-block[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%]   .carousel-arrows[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%]   .carousel-arrows[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-block__title[_ngcontent-%COMP%]   .carousel-arrows[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.staff-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]{width:120px;height:160px;border-radius:20px;overflow:hidden;isolation:isolate;margin-bottom:10px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__name[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__name[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__name[_ngcontent-%COMP%]{font-size:16px}.staff-block[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__role[_ngcontent-%COMP%], owl-carousel-o[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__role[_ngcontent-%COMP%], .owl-stage[_ngcontent-%COMP%]   .staff-item__container[_ngcontent-%COMP%]   .staff-item__role[_ngcontent-%COMP%]{font-size:14px;font-weight:400;margin-top:10px}.film-budget[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.film-budget__container[_ngcontent-%COMP%]{display:flex;gap:5px}"]})};function $e(n,t){if(n&1&&_(0,"app-film-card",7),n&2){let e=t.$implicit;s("film",e)}}var Q=class n{filmService=c(w);activatedRoute=c(B);_snackBar=c(M);destroy$=new k;films=[];title="";constructor(){}ngOnInit(){this.activatedRoute.params.pipe(g(this.destroy$)).subscribe(t=>{let e=t.collection;switch(e){case"TOP_250_MOVIES":this.title="\u0442\u043E\u043F 250 \u0444\u0438\u043B\u044C\u043C\u043E\u0432";break}this.filmService.getFilmsCollection(e).subscribe({next:i=>{let p=null;if(i.message!==void 0&&(p=i.message),p)throw this._snackBar.open(p),new Error(p);this.films=i.items},error:i=>{i.error&&i.error.message?this._snackBar.open(i.error.message):this._snackBar.open("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445")}})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-film-collection"]],decls:9,vars:2,consts:[[1,"main"],[1,"container"],[1,"main__inner"],[1,"content"],[1,"section-title"],[1,"film__items"],[3,"film",4,"ngFor","ngForOf"],[3,"film"]],template:function(e,i){e&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),l(6),o()(),r(7,"div",5),m(8,$e,1,1,"app-film-card",6),o()()()()()),e&2&&(a(6),d(i.title),a(2),s("ngForOf",i.films))},dependencies:[h,U],styles:["[_ngcontent-%COMP%]:root{--color-white: #E8E8E8;--color-gray: #666666;--color-green: #3DD2CC;--color-bg: #000000;--color-bg-secondary: #121212;--transition-style: all .3s ease;--color-purple: #6200EE}.main[_ngcontent-%COMP%]{margin-top:40px}.main__inner[_ngcontent-%COMP%]{display:flex;gap:38px}.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-auto-rows:auto;grid-template-columns:repeat(2,1fr);gap:10px}@media (min-width: 744px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1200px){.main[_ngcontent-%COMP%]   .film__items[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px}}"]})};var je=[{path:"film/:filmId",component:J},{path:"film-collections",component:G},{path:"film-collections/:collection",component:Q}],X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=j({type:n});static \u0275inj=$({imports:[ee.forChild(je),ee]})};var Oe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=j({type:n});static \u0275inj=$({imports:[me,X,ge,_e]})};export{w as a,U as b,Oe as c};
